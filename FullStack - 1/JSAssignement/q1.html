<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payroll Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
        }

        .container {
            max-width: 600px;
            margin: 40px auto;
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ddd;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .basic-info {
            margin-bottom: 20px;
        }

        .basic-info input[type="text"],
        .basic-info input[type="number"] {
            width: 100%;
            padding: 10px 15px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            box-sizing: border-box;
        }

        .sliders {
            margin-bottom: 20px;
        }

        .slider-container {
            margin-top: 20px;
        }

        .slider-container input[type="range"] {
            width: 100%;
            margin-bottom: 20px;
        }

        .output input[type="number"] {
            width: 100%;
            padding: 10px 15px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            background-color: #f0f0f0;
            box-sizing: border-box;
        }

        h1, h2 {
            color: #333;
            margin-bottom: 10px;
        }
    </style>

</head>

<body>
    <div class="container">
        <h1>Payroll Calculator</h1>
        <form>
            <div class="basic-info">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name"><br><br>
                <label for="basic-pay">Basic Pay:</label>
                <input type="number" id="basic-pay" name="basic-pay"><br><br>
            </div>
            <div class="sliders">
                <h2>Adjust Sliders:</h2>
                <div class="slider-container">
                    <label id="da-label">DA (0%):</label>
                    <input type="range" id="da-slider" min="0" max="100" value="0"><br><br>
                    <label id="hra-label">HRA (0%):</label>
                    <input type="range" id="hra-slider" min="0" max="100" value="0"><br><br>
                    <label id="pf-label">PF (0%):</label>
                    <input type="range" id="pf-slider" min="0" max="100" value="0"><br><br>
                    <label id="tax-label">Tax (0%):</label>
                    <input type="range" id="tax-slider" min="0" max="100" value="0"><br><br>
                </div>
            </div>
            <div class="output">
                <h2>Payroll Details:</h2>
                <label for="gross-pay">Gross Pay:</label>
                <input type="number" id="gross-pay" name="gross-pay" readonly><br><br>
                <label for="deduction">Deduction:</label>
                <input type="number" id="deduction" name="deduction" value="0"><br><br>
                <label for="net-pay">Net Pay:</label>
                <input type="number" id="net-pay" name="net-pay" readonly><br><br>
            </div>
        </form>
    </div>

    <script>
        document.getElementById("basic-pay").addEventListener('input', getInput);

        function getInput() {
            const basicSalary = parseFloat(document.getElementById("basic-pay").value);

            if (basicSalary > 0) {
                enableCalculation();
            } else {
                disableCalculation();
            }
        }

        function enableCalculation() {
            document.getElementById("da-slider").addEventListener('input', calculateWithCallback);
            document.getElementById("hra-slider").addEventListener('input', calculateWithCallback);
            document.getElementById("pf-slider").addEventListener('input', calculateWithCallback);
            document.getElementById("tax-slider").addEventListener('input', calculateWithCallback);
            document.getElementById("deduction").addEventListener('input', calculateWithCallback);
        }

        function disableCalculation() {
            document.getElementById("da-slider").removeEventListener('input', calculateWithCallback);
            document.getElementById("hra-slider").removeEventListener('input', calculateWithCallback);
            document.getElementById("pf-slider").removeEventListener('input', calculateWithCallback);
            document.getElementById("tax-slider").removeEventListener('input', calculateWithCallback);
            document.getElementById("deduction").removeEventListener('input', calculateWithCallback);
        }

        function calculateWithCallback() {
            calculateSalarySlip((grossPay, netPay) => {
                document.getElementById("gross-pay").value = grossPay.toFixed(2);
                document.getElementById("net-pay").value = netPay.toFixed(2);
            });
        }

        // Salary calculation with callback
        function calculateSalarySlip(callback) {
            const basicSalary = parseFloat(document.getElementById("basic-pay").value);

            const da = parseFloat(document.getElementById("da-slider").value);
            const hra = parseFloat(document.getElementById("hra-slider").value);
            const pf = parseFloat(document.getElementById("pf-slider").value);
            const tax = parseFloat(document.getElementById("tax-slider").value);
            const deduction = parseFloat(document.getElementById("deduction").value);

            document.getElementById("da-label").innerHTML = "DA (" + da + "%)";
            document.getElementById("hra-label").innerHTML = "HRA (" + hra + "%)";
            document.getElementById("pf-label").innerHTML = "PF (" + pf + "%)";
            document.getElementById("tax-label").innerHTML = "TAX (" + tax + "%)";

            const daAmount = basicSalary * (da / 100);
            const hraAmount = basicSalary * (hra / 100);
            const pfAmount = basicSalary * (pf / 100);
            const taxAmount = basicSalary * (tax / 100);

            const grossPay = basicSalary + daAmount + hraAmount;
            let netPay = grossPay - pfAmount - taxAmount - deduction;

            if (netPay < 0) netPay = 0;

            // Invoke the callback with grossPay and netPay
            callback(grossPay, netPay);
        }
    </script>

</body>

</html>
